import"./GSAP-km8nWVCW.js";import{g as r}from"./index-Cn1KrK_M.js";import{S as o}from"./SplitText-n_eiQhs4.js";import{S as l}from"./ScrollTrigger-BWsqEc1I.js";import"./CSSPlugin-YLlZY2Jb.js";class g{constructor(t,s){this.instance=t,this.app=s,this.destroyed=!1,this.init(),this.app.on("resize",()=>this.resize()),this.app.on("destroy",()=>this.destroy())}init(){if(this.instance.dataset.scroll==="false"||window.innerWidth>=992)return;const t=this.instance.querySelector("svg"),s=t!==null;s?(this.paths=t.querySelectorAll("path"),r.set(this.paths,{transformOrigin:"50% 50%",opacity:0,scaleY:0}),this.tl=r.timeline({paused:!0}),this.tl.to(this.paths,{opacity:1,scaleY:1,duration:.8,ease:"power2.out",stagger:.15})):(this.split=new o(this.instance,{type:"chars"}),r.set(this.instance,{overflow:"hidden",whiteSpace:"nowrap"}),r.set(this.split.chars,{display:"inline-block",transformStyle:"preserve-3d",transformOrigin:"50% 0%",verticalAlign:"top"}),this.tl=r.timeline({paused:!0,onComplete:()=>this.split.revert()}),this.tl.fromTo(this.split.chars,{y:"100%",rotateX:"-90deg",rotateY:"0deg",z:"0"},{y:"0%",rotateX:"0deg",rotateY:"0deg",z:"0",duration:.8,ease:"power2.out",stagger:.15})),this.scroll=l.create({trigger:this.instance,start:s?"top 70%":"top 90%",onEnter:()=>this.tl.play()}),this.scrollBack=l.create({trigger:this.instance,start:"top bottom",onLeaveBack:()=>this.tl.pause(0)})}resize(){var t,s,i,e;this.destroyed||((t=this.split)==null||t.revert(),(s=this.tl)==null||s.kill(),(i=this.scroll)==null||i.kill(),(e=this.scrollBack)==null||e.kill(),this.init())}destroy(){var t,s,i,e;this.destroyed||(this.destroyed=!0,(t=this.split)==null||t.revert(),(s=this.tl)==null||s.kill(),(i=this.scroll)==null||i.kill(),(e=this.scrollBack)==null||e.kill())}}export{g as default};
