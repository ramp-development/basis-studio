import"./GSAP-km8nWVCW.js";import{B as l}from"./BaseAnimation-DRDS06CE.js";import{g as n}from"./index-Cn1KrK_M.js";import{S as r}from"./SplitText-n_eiQhs4.js";import"./ScrollTrigger-BWsqEc1I.js";import"./CSSPlugin-YLlZY2Jb.js";class N extends l{constructor(e,a){super(e,a),this.splits=[],this.animationTargets=[],this.tl=null,this.init()}init(){if(this.instance.dataset.scroll==="false")return;const e=this.instance.querySelectorAll(".paragraph-animation");e.length>0&&n.set(e,{overflow:"hidden"}),this.items=this.instance.querySelectorAll(".paragraph-item"),this.items.forEach(s=>{const i=s.children.length>0?s.children:[s];if(Array.from(i).some(t=>t.textContent.trim().length>0&&(t.tagName==="P"||t.tagName==="H1"||t.tagName==="H2"||t.tagName==="H3"||t.tagName==="H4"||t.tagName==="H5"||t.tagName==="H6"||t.tagName==="SPAN"||t.tagName==="DIV"))){const t=new r(i,{type:"lines"}),o=new r(i,{type:"lines"});this.splits.push(t),n.set(o.lines,{overflow:"clip"}),n.set(t.lines,{y:"120%"}),this.animationTargets.push(t.lines)}else n.set(s,{y:"120%"}),this.animationTargets.push(s)});const a=parseFloat(this.instance.dataset.delay)||0;this.tl=n.timeline({paused:!0,delay:a}),this.animationTargets.forEach((s,i)=>{this.tl.to(s,{y:"0%",duration:.6,ease:"power2.out",stagger:Array.isArray(s)?.1:0},i*.1)})}animateIn(){this.tl&&!this.isVisible&&(this.tl.play(),super.animateIn())}animateOut(){this.tl&&this.isVisible&&(this.tl.pause(0),super.animateOut())}destroy(){var e;this.splits.forEach(a=>a.revert()),(e=this.tl)==null||e.kill()}}export{N as default};
