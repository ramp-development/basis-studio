import{A as u}from"./app.js";const n=u.getInstance();class g{constructor(c,l){this.instance=c,this.main=l,n.cursor=this,this.instance.classList.add("loaded"),this.destroyed=!1,this.cursor=this.instance.querySelector(".cursor"),this.cursorText=this.instance.querySelector(".heading_span"),this.triggers=this.main.querySelectorAll("[data-cursor-trigger]"),this.lastTrigger=null,this.quicks={x:gsap.quickTo(this.cursor,"x",{duration:.3,ease:"power2"}),y:gsap.quickTo(this.cursor,"y",{duration:.3,ease:"power2"})},window.addEventListener("mousemove",s=>{if(this.destroyed)return;const t=this.cursor.getBoundingClientRect().width/2,e={x:(s.clientX/window.innerWidth-.5)*2,y:(s.clientY/window.innerHeight-.5)*2},o=gsap.utils.clamp(0,1,gsap.utils.mapRange(.9,1,0,1,Math.abs(e.x))),a=gsap.utils.clamp(0,1,gsap.utils.mapRange(.9,1,0,1,Math.abs(e.y)));let r=e.x*window.innerWidth/2;e.x<0?r+=t*o:r-=t*o;let i=e.y*window.innerHeight/2;e.y<0?i+=t*a:i-=t*a,this.quicks.x(r),this.quicks.y(i)}),this.tl=gsap.timeline({paused:!0,onReverseComplete:()=>{this.lastTrigger.dataset.cursorTrigger==="Scroll"&&this.cursor.classList.remove("stroke")}}),this.tl.fromTo(this.cursor,{scale:0},{scale:1,duration:.4,ease:"power2"}),this.triggers.forEach(s=>{const t=s.getAttribute("data-cursor-trigger");s.addEventListener("mouseenter",()=>{s.dataset.cursorTrigger==="Scroll"&&this.cursor.classList.add("stroke"),this.tl.play(),this.cursorText.textContent=s.dataset.cursorTrigger==="Scroll Text"?"Scroll":t,this.lastTrigger=s}),s.addEventListener("mouseleave",()=>{this.tl.reverse()})}),n.on("destroy",()=>this.destroy())}destroy(){this.destroyed||(this.destroyed=!0)}}export{g as default};
