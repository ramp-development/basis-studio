import{g as i}from"./all-Cn1KrK_M.js";import{S as n}from"./ScrollTrigger-BWsqEc1I.js";import"./CSSPlugin-YLlZY2Jb.js";i.registerPlugin(n);class f{constructor(t,e){this.instance=t,this.app=e,this.destroyed=!1,this.init(),this.app.on("resize",()=>this.resize()),this.app.on("destroy",()=>this.destroy())}init(){if(window.innerWidth>992)return;i.set(this.instance.parentElement,{perspective:1e3,perspectiveOrigin:"center center"}),i.set(this.instance,{transformOrigin:"center center",transformStyle:"preserve-3d"}),this.tl=i.timeline({paused:!0,defaults:{ease:"power3.out",duration:1}});const t=this.instance.classList.contains("talk_full"),e=t?.1:.4,s=t?.5:1,a=document.querySelector("main").dataset.transitionPage==="cases",o=this.instance.classList.contains("cases_item");let r=!1;if(a&&o){const c=document.querySelectorAll(".cases_item");r=Array.from(c).indexOf(this.instance)<2}const l=r?1.2:0;this.tl.fromTo(this.instance,{autoAlpha:0,rotationZ:-18,rotationY:45,rotationX:-45,scale:e},{autoAlpha:1,rotationZ:0,rotationY:0,rotationX:0,scale:s,delay:l}),this.scroll=n.create({trigger:this.instance,start:"top 85%",onEnter:()=>this.tl.play()})}resize(){var t,e,s;this.destroyed||((t=this.tl)==null||t.kill(),(e=this.scroll)==null||e.kill(),(s=this.scrollBack)==null||s.kill(),this.init())}destroy(){this.destroyed||(this.destroyed=!0)}}export{f as default};
