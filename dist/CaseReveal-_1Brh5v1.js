import{B as l}from"./BaseAnimation-CxELLeAg.js";import{A as r}from"./app.js";r.getInstance();class p extends l{constructor(t){super(t),this.splits=[],this.tl=null,this.init()}init(){if(this.instance.dataset.scroll==="false"||(this.caseItems=this.instance.querySelectorAll(".cases_item"),this.caseItems.length===0))return;this.caseItems.forEach(e=>{e.querySelectorAll(".cases_item_text").forEach(s=>{if(s.textContent.trim().length>0){const i=new SplitText(s,{type:"lines"}),a=new SplitText(s,{type:"lines"});this.splits.push(i),gsap.set(a.lines,{overflow:"clip"}),gsap.set(i.lines,{y:"120%"})}})}),this.tl=gsap.timeline({paused:!0,defaults:{duration:1,ease:"power3.out"}}),this.caseImages=this.instance.querySelectorAll(".cases_image"),this.caseImages.length>0&&(gsap.set(this.caseImages,{transformOrigin:"bottom",transformStyle:"preserve-3d"}),this.tl.fromTo(this.caseImages,{yPercent:40,rotateY:12,rotateX:45,opacity:0},{yPercent:0,rotateY:0,rotateX:0,opacity:1,stagger:.08},0));const t=this.splits.map(e=>e.lines).flat();t.length>0&&this.tl.fromTo(t,{y:"120%"},{y:"0%",stagger:.08,ease:"power3.out"},.5)}animateIn(){this.tl&&!this.isVisible&&(this.tl.play(),super.animateIn())}animateOut(){this.tl&&this.isVisible&&(this.tl.pause(0),super.animateOut())}destroy(){var t;this.splits.forEach(e=>e.revert()),(t=this.tl)==null||t.kill(),super.destroy()}}export{p as default};
