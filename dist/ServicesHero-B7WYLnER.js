import{A as c}from"./app.js";const s=c.getInstance();class u{constructor(t){this.instance=t,this.destroyed=!1,this.isMobile=window.innerWidth<992,this.title=this.instance.querySelector(".h-services_title"),this.text=this.title.querySelector("h1"),this.btn=this.instance.querySelector(".h-services_btn"),this.bg=this.instance.querySelector(".h-services_bg"),this.init(),s.on("resize",()=>this.resize()),s.on("destroy",()=>this.destroy())}init(){this.isMobile?this.initMobile():this.initDesktop()}initMobile(){this.tl=gsap.timeline({paused:!0});const t=this.title.offsetHeight,e=Math.min(t*.5,150);this.tl.fromTo(this.title,{y:0},{y:-e,ease:"power2.out",duration:1}).fromTo(this.text,{scale:1},{scale:1.05,ease:"power2.out",duration:1},"<").fromTo(this.btn,{yPercent:100,opacity:0},{yPercent:0,opacity:1,ease:"power2.out",duration:.4},.3),this.scroll=ScrollTrigger.create({trigger:this.instance,start:"top top",end:"bottom center",animation:this.tl,scrub:1,onUpdate:i=>{this.bg.style.setProperty("--progress",i.progress)}})}initDesktop(){this.tl=gsap.timeline({paused:!0});const t=window.innerHeight/2,e=this.title.getBoundingClientRect(),i=e.top+e.height/2-t;this.tl.fromTo(this.title,{y:0},{y:-i,ease:"power3",duration:1}).fromTo(this.text,{scale:1},{scale:1.4,ease:"power3",duration:1},"<").fromTo(this.btn,{yPercent:100,opacity:0},{yPercent:0,opacity:1,ease:"power3",duration:.5},.5),this.scroll=ScrollTrigger.create({trigger:this.instance,start:"top top",end:"bottom bottom",animation:this.tl,scrub:!0,onUpdate:o=>{var r,l,n,h,a;(a=(h=(n=(l=(r=s.gl)==null?void 0:r.world)==null?void 0:l.hero)==null?void 0:n.material)==null?void 0:h.uniforms)!=null&&a.uScroll&&(s.gl.world.hero.material.uniforms.uScroll.value=o.progress),this.bg.style.setProperty("--progress",o.progress)}})}resize(){var e,i;if(this.destroyed)return;const t=this.isMobile;this.isMobile=window.innerWidth<992,t!==this.isMobile&&((e=this.tl)==null||e.kill(),(i=this.scroll)==null||i.kill(),this.init())}destroy(){var t,e;this.destroyed||(this.destroyed=!0,(t=this.tl)==null||t.kill(),(e=this.scroll)==null||e.kill(),this.tl=null,this.scroll=null)}}export{u as default};
