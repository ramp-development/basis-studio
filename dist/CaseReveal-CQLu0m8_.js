import"./GSAP-km8nWVCW.js";import{B as n}from"./BaseAnimation-DRDS06CE.js";import{S as r}from"./SplitText-n_eiQhs4.js";import{g as s}from"./index-Cn1KrK_M.js";import"./ScrollTrigger-BWsqEc1I.js";import"./CSSPlugin-YLlZY2Jb.js";class y extends n{constructor(t,e){super(t,e),this.splits=[],this.tl=null,this.init()}init(){if(this.instance.dataset.scroll==="false"||(this.caseItems=this.instance.querySelectorAll(".cases_item"),this.caseItems.length===0))return;this.caseItems.forEach(e=>{e.querySelectorAll(".cases_item_text").forEach(i=>{if(i.textContent.trim().length>0){const a=new r(i,{type:"lines"}),l=new r(i,{type:"lines"});this.splits.push(a),s.set(l.lines,{overflow:"clip"}),s.set(a.lines,{y:"120%"})}})}),this.tl=s.timeline({paused:!0,defaults:{duration:1,ease:"power3.out"}}),this.caseImages=this.instance.querySelectorAll(".cases_image"),this.caseImages.length>0&&(s.set(this.caseImages,{transformOrigin:"bottom",transformStyle:"preserve-3d"}),this.tl.fromTo(this.caseImages,{yPercent:40,rotateY:12,rotateX:45,opacity:0},{yPercent:0,rotateY:0,rotateX:0,opacity:1,stagger:.08},0));const t=this.splits.map(e=>e.lines).flat();t.length>0&&this.tl.fromTo(t,{y:"120%"},{y:"0%",stagger:.08,ease:"power3.out"},.5)}animateIn(){this.tl&&!this.isVisible&&(this.tl.play(),super.animateIn())}animateOut(){this.tl&&this.isVisible&&(this.tl.pause(0),super.animateOut())}destroy(){var t;this.splits.forEach(e=>e.revert()),(t=this.tl)==null||t.kill(),super.destroy()}}export{y as default};
