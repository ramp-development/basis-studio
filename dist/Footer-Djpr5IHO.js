import{B as c}from"./BaseAnimation-CxELLeAg.js";import{A as m}from"./app.js";m.getInstance();class p extends c{constructor(t,e){super(t),this.main=e,this.init()}init(){this.clocks=this.instance.querySelectorAll(".footer_clock-item"),this.clockLines=this.instance.querySelectorAll(".footer_clock-lines"),this.links=this.instance.querySelectorAll(".footer_link"),this.clockData=[],this.clocks.forEach((t,e)=>{const i=t.querySelector("[data-city]"),o=t.querySelector("[data-time]"),s=t.querySelector(".footer_clock-lines"),n={London:"Europe/London",Bangkok:"Asia/Bangkok",Bucharest:"Europe/Bucharest"},r=i.textContent.trim(),a=n[r];a&&(this.clockData.push({clock:t,timeDiv:o,timezone:a,clockLines:s}),t.style.setProperty("--time",0))}),this.startTimeUpdates()}getTime(t){const e=new Date().toLocaleString("en-US",{timeZone:t,hour12:!1,hour:"2-digit",minute:"2-digit"}),[i,o]=e.split(":").map(Number),s=o*6,n=i%12*30+o*.5;return{time:e,minuteRotation:s,totalMinutes:n}}startTimeUpdates(){const t=()=>{this.clockData.forEach(i=>{const{timeDiv:o,timezone:s,clock:n}=i,{time:r,totalMinutes:a}=this.getTime(s);o.textContent=r,this.hasAnimated&&n.style.setProperty("--time",a)})};t();const e=setInterval(()=>{t(),this.destroyed&&clearInterval(e)},1e4)}animateIn(){this.hasAnimated||this.animateClocks(),super.animateIn()}animateOut(){super.animateOut()}animateClocks(){this.clockData.forEach((t,e)=>{const{clock:i,timezone:o}=t,{totalMinutes:s}=this.getTime(o),n=360+s;gsap.to(i,{"--time":n,duration:1.6+e*.3,ease:"power2.out",onComplete:()=>{i.style.setProperty("--time",s)}})})}destroy(){this.destroyed=!0,super.destroy()}}export{p as default};
