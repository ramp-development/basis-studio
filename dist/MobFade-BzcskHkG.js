class c{constructor(t,e){this.instance=t,this.app=e,this.destroyed=!1,this.init(),this.app.on("resize",()=>this.resize()),this.app.on("destroy",()=>this.destroy()),this.app.on("barbaEnterStart",()=>this.resize())}init(){if(window.innerWidth>992)return;gsap.set(this.instance.parentElement,{perspective:1e3,perspectiveOrigin:"center center"}),gsap.set(this.instance,{transformOrigin:"center center",transformStyle:"preserve-3d"}),this.tl=gsap.timeline({paused:!0,defaults:{ease:"power3.out",duration:1}});const t=this.instance.classList.contains("talk_full"),e=t?.1:.4,s=t?.5:1,r=document.querySelector("main").dataset.transitionPage==="cases",n=this.instance.classList.contains("cases_item");let i;if(r&&n){const o=document.querySelectorAll(".cases_item");i=Array.from(o).indexOf(this.instance)}const a=i<2?1.2+.25*i:0;this.tl.fromTo(this.instance,{autoAlpha:0,rotationZ:-10,rotationY:25,rotationX:-25,scale:e},{autoAlpha:1,rotationZ:0,rotationY:0,rotationX:0,scale:s,delay:a}),a!==0?this.tl.play():this.scroll=ScrollTrigger.create({trigger:this.instance,start:"top 85%",onEnter:()=>this.tl.play()})}resize(){var t,e,s;this.destroyed||((t=this.tl)==null||t.kill(),(e=this.scroll)==null||e.kill(),(s=this.scrollBack)==null||s.kill(),this.init())}destroy(){this.destroyed||(this.destroyed=!0)}}export{c as default};
