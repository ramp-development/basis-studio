import{A as l}from"./app.js";const r=l.getInstance();class o{constructor(t){this.instance=t,this.text=this.instance.children.length>0?this.instance.children:this.instance,this.destroyed=!1,this.init(),r.on("resize",()=>this.resize()),r.on("destroy",()=>this.destroy())}init(){this.instance.dataset.scroll!=="false"&&this.instance.dataset.splitTextProcessed!=="true"&&(this.split=new SplitText(this.text,{type:"lines",mask:"lines"}),this.instance.dataset.splitTextProcessed="true",gsap.set(this.split.lines,{paddingBottom:"0.1em",marginBottom:"-0.1em",perspective:1e3}),this.tl=gsap.timeline({paused:!0,defaults:{duration:1.2},onComplete:()=>this.split.revert()}),this.tl.fromTo(this.split.lines,{yPercent:120},{yPercent:0,stagger:.1,ease:"power3",stagger:.1},"<0.2").fromTo(this.split.lines,{rotateX:"-35deg",rotateY:"-5deg",z:"-1rem",transformStyle:"preserve-3d",transformOrigin:"50% 0"},{rotateX:"0deg",rotateY:"0deg",z:"0rem",stagger:.1,ease:"power2",stagger:.1},"<"),this.scroll=ScrollTrigger.create({trigger:this.instance,start:"top 90%",onEnter:()=>{this.tl.play()}}),this.srcollBack=ScrollTrigger.create({trigger:this.instance,start:"top bottom",onLeaveBack:()=>{this.tl.pause(0)}}))}resize(){var t,e,s,i;this.destroyed||(this.played=!1,(t=this.split)==null||t.revert(),(e=this.tl)==null||e.kill(),(s=this.scroll)==null||s.kill(),(i=this.srcollBack)==null||i.kill(),this.init())}destroy(){var t,e,s,i;this.destroyed||(this.destroyed=!0,(t=this.split)==null||t.revert(),this.instance.dataset.splitTextProcessed="false",(e=this.tl)==null||e.kill(),(s=this.scroll)==null||s.kill(),(i=this.srcollBack)==null||i.kill())}}export{o as default};
