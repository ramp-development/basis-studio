import{B as c}from"./BaseAnimation-DRDS06CE.js";class u extends c{constructor(t,i,e){super(t,i),this.main=e,this.init()}init(){this.clocks=this.instance.querySelectorAll(".footer_clock-item"),this.clockLines=this.instance.querySelectorAll(".footer_clock-lines"),this.links=this.instance.querySelectorAll(".footer_link"),this.clockData=[],this.clocks.forEach((t,i)=>{const e=t.querySelector("[data-city]"),o=t.querySelector("[data-time]"),s=t.querySelector(".footer_clock-lines"),n={London:"Europe/London",Bangkok:"Asia/Bangkok",Bucharest:"Europe/Bucharest"},r=e.textContent.trim(),a=n[r];a&&(this.clockData.push({clock:t,timeDiv:o,timezone:a,clockLines:s}),t.style.setProperty("--time",0))}),this.startTimeUpdates()}getTime(t){const i=new Date().toLocaleString("en-US",{timeZone:t,hour12:!1,hour:"2-digit",minute:"2-digit"}),[e,o]=i.split(":").map(Number),s=o*6,n=e%12*30+o*.5;return{time:i,minuteRotation:s,totalMinutes:n}}startTimeUpdates(){const t=()=>{this.clockData.forEach(e=>{const{timeDiv:o,timezone:s,clock:n}=e,{time:r,totalMinutes:a}=this.getTime(s);o.textContent=r,this.hasAnimated&&n.style.setProperty("--time",a)})};t();const i=setInterval(()=>{t(),this.destroyed&&clearInterval(i)},1e4)}animateIn(){this.hasAnimated||this.animateClocks(),super.animateIn()}animateOut(){super.animateOut()}animateClocks(){this.clockData.forEach((t,i)=>{const{clock:e,timezone:o}=t,{totalMinutes:s}=this.getTime(o),n=360+s;gsap.to(e,{"--time":n,duration:1.6+i*.3,ease:"power2.out",onComplete:()=>{e.style.setProperty("--time",s)}})})}destroy(){this.destroyed=!0,super.destroy()}}export{u as default};
