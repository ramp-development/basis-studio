import{g as s}from"./index-Cn1KrK_M.js";import"./CSSPlugin-YLlZY2Jb.js";class g{constructor(c,h,l){this.instance=c,this.app=h,this.main=l,this.app.cursor=this,this.instance.classList.add("loaded"),this.destroyed=!1,this.cursor=this.instance.querySelector(".cursor"),this.cursorText=this.instance.querySelector(".heading_span"),this.triggers=this.main.querySelectorAll("[data-cursor-trigger]"),this.lastTrigger=null,this.quicks={x:s.quickTo(this.cursor,"x",{duration:.3,ease:"power2"}),y:s.quickTo(this.cursor,"y",{duration:.3,ease:"power2"})},window.addEventListener("mousemove",t=>{if(this.destroyed)return;const e=this.cursor.getBoundingClientRect().width/2,r={x:(t.clientX/window.innerWidth-.5)*2,y:(t.clientY/window.innerHeight-.5)*2},a=s.utils.clamp(0,1,s.utils.mapRange(.9,1,0,1,Math.abs(r.x))),n=s.utils.clamp(0,1,s.utils.mapRange(.9,1,0,1,Math.abs(r.y)));let i=r.x*window.innerWidth/2;r.x<0?i+=e*a:i-=e*a;let o=r.y*window.innerHeight/2;r.y<0?o+=e*n:o-=e*n,this.quicks.x(i),this.quicks.y(o)}),this.tl=s.timeline({paused:!0,onReverseComplete:()=>{this.lastTrigger.dataset.cursorTrigger==="Scroll"&&this.cursor.classList.remove("stroke")}}),this.tl.fromTo(this.cursor,{scale:0},{scale:1,duration:.4,ease:"power2"}),this.triggers.forEach(t=>{const e=t.getAttribute("data-cursor-trigger");t.addEventListener("mouseenter",()=>{t.dataset.cursorTrigger==="Scroll"&&this.cursor.classList.add("stroke"),this.tl.play(),this.cursorText.textContent=t.dataset.cursorTrigger==="Scroll Text"?"Scroll":e,this.lastTrigger=t}),t.addEventListener("mouseleave",()=>{this.tl.reverse()})}),this.app.on("destroy",()=>this.destroy())}destroy(){this.destroyed||(this.destroyed=!0)}}export{g as default};
