import{A as o}from"./app.js";const a=o.getInstance();class g{constructor(i){this.instance=i,this.destroyed=!1,this.splits=[],this.init(),a.on("resize",()=>this.resize()),a.on("destroy",()=>this.destroy())}init(){if(this.instance.dataset.scroll==="false"||(this.parentItems=this.instance.querySelectorAll(".stagger-animation"),this.parentItems.length===0))return;gsap.set(this.parentItems,{overflow:"hidden"}),this.items=this.instance.querySelectorAll(".stagger-item, .paragraph-item"),this.animationTargets=[],this.items.forEach(t=>{const e=t.children.length>0?t.children:[t];if(Array.from(e).some(s=>s.textContent.trim().length>0&&(s.tagName==="P"||s.tagName==="H1"||s.tagName==="H2"||s.tagName==="H3"||s.tagName==="H4"||s.tagName==="H5"||s.tagName==="H6"||s.tagName==="SPAN"||s.tagName==="DIV"))){const s=new SplitText(e,{type:"lines"}),n=new SplitText(e,{type:"lines"});this.splits.push(s),gsap.set(n.lines,{overflow:"clip"}),gsap.set(s.lines,{y:"120%"}),this.animationTargets.push(s.lines)}else gsap.set(t,{y:"120%"}),this.animationTargets.push(t)}),this.tl=gsap.timeline({paused:!0}),window.innerWidth<992?this.animationTargets.forEach((t,e)=>{const r=gsap.timeline({paused:!0});r.to(t,{y:"0%",duration:.6,ease:"power2.out",stagger:Array.isArray(t)?.05:0}),ScrollTrigger.create({trigger:this.items[e],start:"top 90%",onEnter:()=>r.play()}),ScrollTrigger.create({trigger:this.items[e],start:"top bottom",onLeaveBack:()=>r.pause(0)})}):(this.animationTargets.forEach((t,e)=>{this.tl.to(t,{y:"0%",duration:.6,ease:"power2.out",stagger:Array.isArray(t)?.05:0},e*.05)}),this.scroll=ScrollTrigger.create({trigger:this.instance,start:"top 85%",onEnter:()=>this.tl.play()}))}resize(){var i,t,e;this.destroyed||(this.splits.forEach(r=>r.revert()),(i=this.tl)==null||i.kill(),(t=this.scroll)==null||t.kill(),(e=this.scrollBack)==null||e.kill(),this.init())}destroy(){var i,t,e;this.destroyed||(this.destroyed=!0,this.splits.forEach(r=>r.revert()),(i=this.tl)==null||i.kill(),(t=this.scroll)==null||t.kill(),(e=this.scrollBack)==null||e.kill())}}export{g as default};
