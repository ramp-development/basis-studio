class a{constructor(i,s,t=!1){this.instance=i,this.app=s,this.isVisible=!1,this.reAnimate=t,this.hasAnimated=!1,this.setupObserver(),this.app.on("destroy",()=>this.destroy())}setupObserver(){this.app.animationObserver.instance.observe(this.instance),this.startVisibilityCheck()}startVisibilityCheck(){const i=()=>{const s=this.instance.dataset.animationVisible==="true";if(s&&!this.isVisible){if(this.app.isTransitioning)return;(this.reAnimate||!this.hasAnimated)&&this.animateIn()}else!s&&this.isVisible&&this.reAnimate&&this.animateOut();requestAnimationFrame(i)};i()}animateIn(){this.isVisible=!0,this.hasAnimated=!0}animateOut(){this.isVisible=!1}destroy(){}}export{a as B};
